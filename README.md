# Firefly(流萤): 中文对话式大语言模型

## News
- 开源[firefly-2b6-v2模型](https://huggingface.co/YeungNLP/firefly-2b6-v2) ，模型参数量为2.6B，优化训练策略，训练数据为376万，加入了大量的医疗问答、多轮对话、数学推理等训练数据。提升模型的多轮对话、医疗问答、数学逻辑推理的能力。
- 开源[firefly-2b6模型](https://huggingface.co/YeungNLP/firefly-2b6) ，模型参数量为2.6B，训练数据为210万。提升模型的编程能力，古诗词、文言文翻译、对联等方面的能力也有所提升。

## 项目简介
**Firefly（流萤）** 是一个开源的中文对话式大语言模型，使用指令微调（Instruction Tuning）在中文数据集上进行调优。使用了词表裁剪、ZeRO等技术，有效降低显存消耗和提高训练效率。
在训练中，我们使用了更小的模型参数量，以及更少的计算资源。

我们构造了许多与中华文化相关的数据，以提升模型这方面的表现，如对联、作诗、文言文翻译、散文、金庸小说等。

<img src="pics/firefly_logo.png" width="250">

**流萤**（萤火虫的别称）是中华传统文化的一个符号，虽说腐草为萤，带有悲悯意味，但萤火虽小，也能凭借其淡淡荧光，照亮夜空。本项目的名称取自杜牧的《秋夕》：**银烛秋光冷画屏，轻罗小扇扑流萤**。
也希望本项目能够像流萤一般发出淡淡微光，为中文NLP开源社区尽绵薄之力，添砖加瓦。
```text
《咏萤火》 
 唐.李白
雨打灯难灭，
风吹色更明。
若飞天上去，
定作月边星。
```

主要工作如下：
- **数据集**：[firefly-train-1.1M](https://huggingface.co/datasets/YeungNLP/firefly-train-1.1M) ， 一份高质量的包含1.1M中文多任务指令微调数据集，包含23种常见的中文NLP任务的指令数据。对于每个任务，由人工书写若干指令模板，保证数据的高质量与丰富度。
- **模型裁剪**：[LLMPruner：大语言模型裁剪工具](https://github.com/yangjianxin1/LLMPruner) ，使用词表裁剪技术对多语种大语言模型进行权重裁剪，保留预训练知识的前提下，有效减少模型参数量，提高训练效率，并分享裁剪后的多种参数规模的Bloom模型权重。
- **权重分享**：在[bloom-1b4-zh](https://huggingface.co/YeungNLP/bloom-1b4-zh) 和[bloom-2b6-zh](https://huggingface.co/YeungNLP/bloom-2b6-zh) 的基础上，进行指令微调，获得如下中文模型：[firefly-1b4](https://huggingface.co/YeungNLP/firefly-1b4) 、[firefly-2b6](https://huggingface.co/YeungNLP/firefly-2b6) 、[firefly-2b6-v2](https://huggingface.co/YeungNLP/firefly-2b6-v2) 
- **训练代码**：开源训练代码，基于DeepSpeed+transformers

## 模型使用
单轮对话：
```python
from transformers import BloomTokenizerFast, BloomForCausalLM
device = 'cuda'
path = 'YeungNLP/firefly-2b6-v2'

tokenizer = BloomTokenizerFast.from_pretrained(path)
model = BloomForCausalLM.from_pretrained(path)
model.eval()
model = model.to(device)
# 训练firefly-2b6-v2模型时，输入格式为：<s>input</s>target</s>
if path == 'YeungNLP/firefly-2b6-v2':
    input_pattern = '<s>{}</s>'
# 训练firefly-1b4和firefly-2b6模型时，输入格式为：<s>input</s></s>target</s>
else:
    input_pattern = '<s>{}</s></s>'
    
text = input('User：')
while True:
    text = input_pattern.format(text)
    input_ids = tokenizer(text, return_tensors="pt").input_ids
    input_ids = input_ids.to(device)
    outputs = model.generate(input_ids, max_new_tokens=250, do_sample=True, top_p=0.75, temperature=0.35,
                             repetition_penalty=1.2, eos_token_id=tokenizer.eos_token_id)
    rets = tokenizer.batch_decode(outputs)
    output = rets[0].strip().replace(text, "").replace('</s>', "")
    print("Firefly：{}".format(output))
    text = input('User：')
```

多轮对话：
```python
from transformers import BloomTokenizerFast, BloomForCausalLM
import torch

device = 'cuda'
path = 'YeungNLP/firefly-2b6-v2'
tokenizer = BloomTokenizerFast.from_pretrained(path)
model = BloomForCausalLM.from_pretrained(path)
model.eval()
model = model.to(device)
# 记录所有历史记录
history_token_ids = tokenizer('<s>', return_tensors="pt").input_ids
# 输入模型的最大长度
history_max_len = 1000

user_input = input('User：')
while True:
    user_input = '{}</s>'.format(user_input)
    user_input_ids = tokenizer(user_input, return_tensors="pt").input_ids
    history_token_ids = torch.concat((history_token_ids, user_input_ids), dim=1)

    model_input_ids = history_token_ids[:, -history_max_len:].to(device)
    outputs = model.generate(model_input_ids, max_new_tokens=300, do_sample=True, top_p=0.7, temperature=0.35,
                             repetition_penalty=1.2, eos_token_id=tokenizer.eos_token_id)

    model_input_ids_len = model_input_ids.size(1)
    response_ids = outputs[:, model_input_ids_len:]
    history_token_ids = torch.concat((history_token_ids, response_ids.cpu()), dim=1)

    response = tokenizer.batch_decode(response_ids)
    print("Firefly：" + response[0].strip().replace('</s>', ""))
    user_input = input('User：')
```

## 模型裁剪
本项目首先使用[LLMPruner项目](https://github.com/yangjianxin1/LLMPruner) 对原始的Bloom模型进行词表裁剪，仅取出常用的中英文词表，大大降低了模型参数量，然后再对其进行指令微调。

Bloom是个多语言模型，由于需要兼容多语言，所以词表有25w之多，在中文领域中，大部分词表并不会被用到。
我们通过删减冗余的词表，从多语言模型中提取常用的中英文词表，最终词表从25w减少到46145，缩减为原来的18.39%，在保留预训练知识的同时，有效减少参数量，提高训练效率。

我们在
[bloom-1b4-zh](https://huggingface.co/YeungNLP/bloom-1b4-zh) 
与
[bloom-2b6-zh](https://huggingface.co/YeungNLP/bloom-2b6-zh) 
的基础上，进行指令微调，获得如下中文模型：[firefly-1b4](https://huggingface.co/YeungNLP/firefly-1b4) 、[firefly-2b6](https://huggingface.co/YeungNLP/firefly-2b6) 、[firefly-2b6-v2](https://huggingface.co/YeungNLP/firefly-2b6-v2) 

## 数据集
我们收集了23个常见的中文数据集，对于每个任务，由人工书写若干种指令模板，保证数据的高质量与丰富度，数据量为115万，形成训练集[firefly-train-1.1M](https://huggingface.co/datasets/YeungNLP/firefly-train-1.1M) 。数据分布如下图所示：

<img src="pics/task_distribution.png" width="380"> 

在此基础上，我们也收集了一些开源的指令数据集，每条数据的格式如下，包含任务类型、输入、目标输出：
```json
{
  "kind": "ClassicalChinese", 
  "input": "将下面句子翻译成现代文：\n石中央又生一树，高百余尺，条干偃阴为五色，翠叶如盘，花径尺余，色深碧，蕊深红，异香成烟，著物霏霏。",
  "target": "大石的中央长着一棵树，一百多尺高，枝干是彩色的，树叶有盘子那样大，花的直径有一尺宽，花瓣深蓝色，花中飘出奇异的香气笼罩着周围，如烟似雾。"
}
```

## 训练细节
我们将模型的最大输入设置为512，input部分不参与计算loss，只计算target部分的损失函数。训练的超参数设置如下表所示。

| 参数             | firefly-1b4 | firefly-2b6 | firefly-2b6-v2 |
|----------------|-------------|-------------|--------------|
| 训练数据量          | 165万        | 210万        | 376万         |
| Training step  | 90k         | 260k        | 62k          |
| Batch size     | 16          | 8           | 60           |
| Learning rate  | 3e-5        | 3e-5        | 2e-5         |
| Warmup step    | 3000        | 3000        | 5000         |
| Lr schedule    | cosine      | cosine      | cosine       |
| Max_seq_length | 512         | 512         | 512          |


## 局限性和使用限制
经过词表裁剪后，我们的模型参数量仅为1.4B和2.6B，参数量远远小于ChatGPT和LLaMA等上百亿上千亿的模型，甚至远远小于当前主流如Belle、ChatGLM等7B左右的模型。所以在效果上仍存在以下问题：
- 对于事实性知识，容易产生错误的回复。
- 由于未经过无害化微调，可能会产生歧视、危害、违背伦理道德的言论。
- 在代码、推理上的能力仍有欠缺。

基于以上模型的局限性，我们要求本项目的代码、数据、模型等仅用于学术研究，不得用于商业用途，且不得用于对社会造成危害的用途。

## 引用
若使用本项目的数据、代码或模型，请引用本项目。
```text
@misc{Firefly,
  author = {Jianxin Yang},
  title = {Firefly(流萤): 中文对话式大语言模型},
  year = {2023},
  publisher = {GitHub},
  journal = {GitHub repository},
  howpublished = {\url{https://github.com/yangjianxin1/Firefly}},
}
```

## 关注我们

<img src="pics/gongzhonghao.jpeg" width="250"> 

## 生成效果
下面的样例均为firefly-2b6-v2模型所生成，未经修改，部分生成内容可能存在事实性错误，仅供参考。

<details><summary><b>医疗问答</b></summary>

| 输入                                                                                                                                                                                                                                                                                     | 输出  |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
|小张最近感觉身体不适，出现心悸、气促等症状。体检发现心脏扩大、搏动减弱。|根据你的描述考虑是心肌炎的可能，建议到医院检查一下看看，注意饮食避免辛辣刺激性食物，注意多休息，必要时去医院做进一步检查与治疗|
|艾滋病是如何传染的？|艾滋病是通过性接触、血液和母婴三种途径传播的。在性生活中，通过精液进入人体内，造成感染。血液中含有的病毒可通过注射吸毒等行为进行传播。另外，孕妇也可以将病毒传给胎儿。|
|口腔溃疡的原因及治疗方法|口腔溃疡一般与上火，缺乏维生素，免疫力低下等有关。建议平时多喝水，多吃蔬菜水果，补充充足的维生素，不要吃辛辣刺激的食物，注意休息和营养的搭配。可以口服维生素C片，V-B1片，VB12片治疗，同时外用西瓜霜喷雾剂喷雾治疗效果不错。|
|什么造成了胃溃疡？|一般认为与幽门螺旋杆菌感染有关，建议用奥美拉唑、阿莫西林和克拉霉素治疗。平时饮食要规律，避免辛辣刺激性的食物，注意休息|
|痛风是由什么引起的？|痛风是一种代谢性疾病，以高尿酸血症为主要特征。急性期治疗原则是限制饮食、控制体重和避免饮酒等。慢性期则需要长期口服药物如秋水仙碱片、苯溴马隆、别嘌醇等。|
|肛门流血不疼吃什么药|根据你的描述可能是痔疮，建议到医院肛肠科检查确诊。注意饮食避免辛辣刺激性食物，多吃蔬菜水果粗粮，多喝水，不要久坐，经常清洗肛门部，勤换内裤比较好治疗上可以口服槐角丸和痔速宁片，局部需要使用马应龙痔疮膏来治疗的|
|便秘和便血是什么病|大便带血是痔疮的主要症状之一，但是不能一见便血就以为是痔疮，因为消化道疾病和全身性疾病都可以引起便血。建议你到正规医院肛肠科就诊检查，明确诊断再治疗。平时注意饮食清淡，多喝水，多吃蔬菜水果，避免辛辣刺激食物的摄入。|

</details>

<details><summary><b>商品文案生成</b></summary>

| 输入                                                                                        | 输出  |
|-------------------------------------------------------------------------------------------|-----|
| 根据标题生成商品文案：南极人羽绒服男短款秋冬轻盈保暖休闲男装男士羽绒冬装外套                                                    |90后潮搭撞色纯颜色羽绒服，精选优质面料，抗寒保暖能力强，穿着更舒适，简约时尚的款式，体现出干练简单的气息，采用轻盈、轻薄、温暖的开发理念设计，颠覆传统羽绒服的概念，让你真正暖到心|
| 假如你现在是一名优秀的服装销售员，现在请你根据下面的关键词，向你的客户介绍商品，生成商品描述：类型：裙；风格：简约；图案：条纹；图案：线条；图案：撞色；裙型：鱼尾裙；裙袖长：无袖 |这款优雅的鱼尾裙采用经典的无袖设计，展现出纤细的手臂和优美的曲线。同时搭配一条简洁的条纹，让整体的造型更加时尚大气。在颜色上，以深浅不一的颜色呈现，给人一种清新自然的感觉。此外，还加入了撞色的元素，使整体更具视觉冲击力。穿上它，让你轻松成为人群中的焦点|
| 请你扮演一名销售员，对洗衣液的卖点进行描述，着重突出下面的关键词：干净，无残留，清香，无异味，除菌                                         |我们的洗衣液是您家庭清洁的最佳选择！它采用最先进的技术和配方，能够彻底清除您的衣物上的任何污渍、细菌和其他有害物质。同时，我们使用天然成分，不含任何化学物质，让您的衣服保持清新、无异味，并且更加健康环保。最重要的是，我们的产品还具有抗菌功能，可以保护您的家人免受病菌侵害。现在就试试吧|
| 你是一名优秀且经验丰富的电商卖家，现在请你对一部非智能手机生成卖点，着重突出下面的商品特点，要求200字描述：操作简单，续航持久，耐摔，适合老年人，保修三年            |这款手机是一款非常实用的产品。它采用简单易懂的界面设计，用户可以轻松上手使用。同时，它的电池寿命也很长，一次充电可以使用数天，而且不会出现过热现象。<br>此外，这款手机还具有出色的抗摔性能，即使是在日常的碰撞中也能保持完好无损。对于老年人或身体不便的人来说，这款手机也是非常方便的选择。其支持无线充电和数据同步功能，让用户随时随地都能享受到便利的服务。<br>最后，这款手机还有着三年的保修期，保证了用户在购买后能够得到及时、有效的维修服务。总之，这款手机不仅实用性强，同时还具备良好的性价比，是您的不二之选|
</details>

<details><summary><b>古诗、对联、文言文</b></summary>

| 输入                                                                                                                                                                | 输出                                                                                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| 以春天为题目，帮我写一首古诗，要求包含燕子、春风、柳树等元素，古诗：                                                                                                                                | 春风吹拂燕归来，<br>柳枝摇曳舞翩跹。<br>花开满园香气溢，<br>鸟语声中乐无边。                                                                                                |
| 以咏梅为题目，帮我写一首古诗，要求包含梅花、白雪等元素。古诗：                                                                                                                                   | 白雪纷纷落，<br>梅花含笑开。<br>清香扑鼻来，<br>素雅动人心。<br>枝头挂冰玉，<br>叶上缀珠玑。<br>寒冬不凋零，<br>春风又何妨？<br>此情谁能识，<br>惟愿君知晓。                                            |
|我要与朋友分别了，请你写一首古诗，表达我的离别之情。|好的，我将为您创作一首关于离别的诗歌。<br>离别情深似海潮，<br>相思难耐泪涟涟。<br>天涯何处觅知音？<br>唯有明月共清辉|
| 背诵苏轼的《水调歌头·明月几时》                                                                                                                                                  | 明月几时有，把酒问青天。不知天上宫阙，今夕是何年？我欲乘风归去，又恐琼楼玉宇，高处不胜寒；起舞弄清影，何似在人间！转朱阁，低绮户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。但愿人长久，千里共婵娟。                          |
|背诵古诗，题目：登高，作者：杜甫| 风急天高猿啸哀，渚清沙白鸟飞回。无边落木萧萧下，不尽长江滚滚来。万里悲秋常作客，百年多病独登台。艰难苦恨繁霜鬓，潦倒新停浊酒杯。                                                                            |
|上联：江边惯看千帆过| 下联：岸上闲听百鸟蹄                                                                                                                                  |
| 把下面的文本翻译成现代文：林尽水源，便得一山，山有小口，仿佛若有光。便舍船，从口入。初极狭，才通人。复行数十步，豁然开朗。土地平旷，屋舍俨然，有良田、美池、桑竹之属。阡陌交通，鸡犬相闻。其中往来种作，男女衣着，悉如外人。                                                    | 到了这里，只见一山峰上有一个小洞口，好像有光芒照耀出来，就放弃船只，顺着洞口进去，最初时十分狭窄，只能容一个人通过，又走了几十步，豁然开阔起来，土地平坦宽广，房屋整齐，有良田、美池和桑树竹子之类，道路纵横交错，鸡狗互相叫唤，中间来往的农夫耕作，男女人穿衣服打扮得跟外面的人一样。 |
| 把下面的文本翻译成文言文：到了春风和煦，阳光明媚的时候，湖面平静，没有惊涛骇浪，天色湖光相连，一片碧绿，广阔无际；沙洲上的鸥鸟，时而飞翔，时而停歇，美丽的鱼游来游去，岸上与小洲上的花草，青翠欲滴。有时大片烟雾完全消散，皎洁的月光一泻千里，波动的光闪着金色，静静的月影像沉入水中的玉璧，渔夫的歌声在你唱我和地响起来，这种乐趣真是无穷无尽啊！ | 及春风和日，晴景霁丽，湖平无波澜，天影连空，广袤无涯；沙洲之鸥，或翱翔，或止息，美鱼浮动，渚花摇荡；或大雾既散，皎月万里，光烨金辉，寂照澄澈，渔夫之歌，于汝我者，其乐实多矣！                                                     |
</details>


<details><summary><b>创意性写作</b></summary>

| 输入                                                                                                | 输出  |
|---------------------------------------------------------------------------------------------------|-----|
| 根据标题生成一篇文章，要求400字：全面推进乡村振兴 加快建设农业强国                                                               |随着我国经济社会的不断发展，农村人口逐渐增多，而乡村振兴也成为了当前社会的重要议题。为了实现“乡村振兴”，我们需要从多个方面入手。<br>首先，要加强教育投入。在乡村地区，学校资源相对匮乏，学生们接受的教育水平有限，因此需要加大对乡村教育的投资力度。政府可以设立更多的义务教育学校和特殊教育学校，同时也可以鼓励企业、组织等参与到乡村教育的发展中来。此外，还可以通过开展各种形式的培训活动，提高学生的综合素质和能力。<br>其次，要促进城乡统筹发展。乡村地区的经济发展离不开城市的支持，但乡村的经济发展也需要得到城市的关注和支持。政府和企业可以通过建立合作机制，将城市的发展与乡村的产业结构调整相结合，推动城乡经济的协同发展。例如，可以利用现代化的技术手段，优化农业生产方式，提高生产效率；同时，也可以加强与城市相关部门的合作，共同推进乡村治理和社会管理等方面的工作。<br>第三，要完善社会保障体系。乡村居民的生活条件比较艰苦，他们往往缺乏基本的社会保障制度，如医疗保险、养老保险等等。为此，政府应该加强对乡村居民的社保支持和服务，为他们提供更加完善的福利待遇。同时，也要积极探索新的社会保障模式，为乡村居民提供更多元化、个性化的服务。<br>最后，要加强宣传和教育。乡村振兴是一个长期的过程，需要全社会的共同努力。政府、媒体、NGO等机构可以通过多种渠道进行宣传和教育，让更多的人了解乡村发展的现状和问题，激发他们的参与热情和责任感。同时，也可以借助互联网平台，推广乡村旅游、文化交流等方面的信息，吸引更多的游客前来参观乡村，从而带动乡村旅游业的发展。<br>综上所述，乡村振兴是当今社会的一个重要课题，需要各方力量的共同努力。只有我们齐心协力，才能让乡村变得更加美丽宜居！|
| 写一段关于日落的描述，要求细节生动，景色美好，要求200字。                                                                    |夕阳西下，天空渐渐染上了深红色和橙色。太阳缓缓落下，将整个天空映照成一片金黄色。云彩也随之变幻着颜色，从淡蓝色到深紫色再到粉色，仿佛一幅美丽的画卷展现在眼前。<br>随着时间的推移，太阳逐渐消失在地平线之下，留下了一片宁静的景象。远处的山峦在晚霞中变得格外壮观，它们似乎被涂上了一层金色的颜料，让人不禁感叹大自然的神奇与美丽。<br>此时此刻，人们的心情也跟着愉悦起来。在这个美好的时刻里，我们可以感受到大自然的魅力和力量，让我们更加珍惜每一刻时光，享受生命中的每一个瞬间|
| 根据题目写一首散文：荷塘月色。要求包含荷花、月光、池塘、清风、夏日等元素。                                                             |夏日的夜晚，荷塘的月亮格外明亮，照耀着整个池塘和周围的一切。<br>在微风吹拂下，荷叶轻轻摇晃，发出沙沙的声音，仿佛是欢迎远方的朋友来到这里。<br>池塘里的莲花开得正艳丽，白如雪，粉似霞，散发出迷人的芬芳气息。它们挨挨挤挤地生长在一起，像一个个小圆盘一样，又像一朵朵盛开的鲜花。<br>夜幕降临，星星点点的天空映衬着皎洁的月光，让人感到无比宁静与美好。偶尔有一只萤火虫飞过，它闪烁着荧光，像是给这静谧的夜晚增添了一抹亮丽的色彩。<br>此时此刻，人们不禁感叹大自然的神奇魅力，也深深地被它的美丽所吸引。在这安静而祥和的夜晚里，我们感受到了大自然的魅力和力量，让我们更加珍惜这份美好的时光。|
| 请生成一篇关于人工智能对教育行业的影响的文章，包括挑战和机遇。                                                                   |随着人工智能技术的不断发展，它已经开始在各个领域发挥作用，其中之一是教育行业。尽管人工智能技术在教育领域的应用还处于起步阶段，但它已经开始改变着教育的面貌。<br>首先，人工智能可以帮助教师更好地个性化教学。通过分析学生的学习风格、兴趣爱好以及知识水平等数据，人工智能可以为每个学生提供最适合他们的课程内容和方式，从而提高学生的学习效果。此外，人工智能还可以帮助教师自动评估学生的作业和考试成绩，减轻了教师的工作负担，提高了工作效率。<br>其次，人工智能也可以改善学生的学习体验。例如，虚拟现实技术和增强现实技术可以让学生身临其境地参与到各种场景中，如历史事件、科学实验等等，这不仅能够增加学生的兴趣，也能够让学生更加深入地理解所学的内容。同时，人工智能还可以根据学生的表现来调整自己的算法，以适应不同的学习者需求。<br>然而，人工智能在教育中的应用也面临着一些挑战。一方面，由于人工智能需要大量的数据和计算资源支持，因此对于学校和教育机构来说，这些资源的投入成本可能很高；另一方面，人工智能算法的可解释性也是一个问题，因为当机器做出决策时，我们无法知道它的依据是什么，这也限制了人们对人工智能的接受程度。<br>总的来说，人工智能对教育行业的应用带来了许多机会和挑战。虽然人工智能不能完全取代人类的教育工作者，但是它可以成为他们的一种有力辅助工具，帮助人们更高效地进行学习和工作。未来，我们可以期待看到更多的人工智能技术应用于教育领域，推动教育变得更加高效和创新。|
| 假设你现在是一名记者，你将报道突发新闻，撰写专题报道和评论文章，开发用于验证信息和发现来源的研究技术，遵守新闻道德，并使用你自己独特的风格提供准确的报道。请你写一篇关于美国的空气污染的新闻报道。 |据最新数据显示，美国全国范围内的空气质量指数（PM2.5）已经超过了世界卫生组织设定的安全标准。其中，洛杉矶、纽约等城市的空气质量指数更是创下了历史最高水平。<br>专家指出，这种严重的环境问题主要源于工业生产和交通运输业的发展。同时，城市规划不合理也加剧了空气污染的问题。政府和社会各界应该共同努力，采取有效措施减少污染物排放，改善空气质量。<br>针对这一问题，一些环保组织和个人也在积极行动。他们呼吁政府和企业加强监管和管理，推广清洁能源和新能源汽车，鼓励居民采取低碳生活方式，共同保护我们的地球家园。<br>对于普通民众而言，也可以从自身做起，少开车、多骑自行车或步行，节约用水用电，尽可能地减少对环境的负面影响。只有全社会齐心协力，才能让我们的美丽蓝天更加清新宜人|
| 写一封商务邮件给客户，表达因为物流延误，不能如期到达，我们可以赔偿贵公司所有损失                                                          |尊敬的客户，<br>非常抱歉地通知您，由于我们最近的物流问题，我们的货物无法按时交付。我们已经尽最大努力解决这个问题，但是我们需要一些时间来完成您的订单。<br>我们正在与运输商联系以了解更多情况，并希望尽快处理此事。我们希望能够弥补任何不便或损失，并确保您对我们的服务感到满意。<br>如果您有任何疑问或需要进一步的信息，请随时与我们联系。我们将竭诚为您提供帮助和支持。<br>再次感谢您的耐心等待和理解。<br>此致<br>敬礼！<br>[你的名字]     |
|情人节快到了，帮我写一首情诗，送给我女朋友|好的，让我来帮您创作一首情诗吧。<br>爱意如潮水般涌起，<br>思念之情难以言表；<br>你是我生命中的唯一，<br>心中只有你的身影。<br>春风拂面轻轻吹过，<br>花儿绽放着美丽的笑容；<br>每一天都想和你在一起，<br>直到永远的尽头。|
|生成5条关于“稻香”的网抑云音乐热评|1、小时候，把一片口香糖掰成两块儿。 很舍不得吃。那时候就天真的想：等 到我长大了，有钱了，就一口气嚼一 包！一定特别甜！今天突然想到了儿时这个梦想 ，就买了一包，当我把口 香糖一片片塞进嘴里的时候 。我的 眼泪夺眶而出。。我哽咽着大口的嚼着。。心里却满是的酸涩，我想 我再也找不到一块儿那么纯洁的白口香糖了。<br>2、“稻香”就是对故乡的思念，是对亲人的牵挂，是家乡的一草一木都深深烙印在心中，无论何时何地都会想起家乡的美好回忆<br>3、听歌还翻评论？你一定很孤独吧，别问为什么，因为我也是，我爱你，陌生人。<br>4、这首歌是我爷爷最喜欢的歌曲之一，他去世前几天还在哼唱这首曲子呢，现在听到还是会泪目😭😭😭<br>5、《稻香》是一首非常优美的民谣，它以朴实无华的语言表达了对故乡和亲人深沉的爱恋之情，让人回味无穷。|
|以歌颂爱情为主题，写一首歌词|Verse 1:<br>爱是火焰，燃烧在心底，<br>温暖如春日阳光。<br>相伴一生，不离不弃，<br>真挚情感永不变。 <br>Chorus:<br>你是我的唯一，我为你倾心，<br>爱你直到永远，永不分离。<br>我们的故事，像一首动人的诗篇，<br>让我们一起唱响爱的旋律。 <br>Verse 2:<br>风雨中走过，你为我遮风挡雨；<br>患难时刻，你的陪伴让我倍感安慰。<br>无论何时何地，我都想和你在一起，<br>这份感情永远不会消失。 <br>Chorus:<br>你是我的唯一，我为你倾心，<br>爱你直到永远，永不分离。<br>我们的故事，像一首动人的诗篇，<br>让我们一起唱响爱的旋律。 <br>Bridge:<br>在彼此的怀抱里，我们感到无比幸福和满足，<br>因为我们知道，有你在身边就是最美好的事情。<br>让我们携手前行，共同创造美好未来！<br>Chorus:<br>你是我的唯一，我为你倾心，<br>爱你直到永远，永不分离。<br>我们的故事，像一首动人的诗篇，<br>让我们一起唱响爱的旋律|

</details>


<details><summary><b>知识库问答</b></summary>

```text
User:
你是一个优秀的人工智能助手。请你仔细阅读下面的文章，并且给出问题的答案。
你只能使用文章中明确列出的信息，不要编造文章中未列出的信息。如果你不知道答案，就说“我不确定”。 不要试图编造答案。
---
文森特·威廉·梵高（Vincent Willem van Gogh，1853年3月30日—1890年7月29日），荷兰后印象派画家。代表作有《星月夜》、自画像系列、向日葵系列等。
梵高出生于1853年3月30日荷兰乡村津德尔特的一个新教牧师家庭，早年的他做过职员和商行经纪人，还当过矿区的传教士最后他投身于绘画。他早期画风写实，受到荷兰传统绘画及法国写实主义画派的影响。1886年，他来到巴黎，结识印象派和新印象派画家，并接触到日本浮世绘的作品，视野的扩展使其画风巨变。1888年，来到法国南部小镇阿尔，创作《阿尔的吊桥》；同年与画家保罗·高更交往，但由于二人性格的冲突和观念的分歧，合作很快便告失败。此后，梵高的疯病（有人记载是“癫痫病”）时常发作，但神志清醒时他仍然坚持作画。1889年创作《星月夜》。1890年7月，梵高在精神错乱中开枪自杀（一说，两个年轻人不小心走火开枪击中 [27] ），年仅37岁。
---

问题：请向我展示一些关于梵高的信息

Firefly:
梵高是荷兰后印象派画家，代表作品包括《星月夜》、自画像系列、向日葵系列等。他出生在1853年3月30日荷兰乡村津德尔特的一个新教牧师家庭，早年曾做职员和商人，后来成为一名艺术家。他早期的画风写实，受到荷兰传统绘画及法国写实主义画派的影响。他曾在巴黎拜访了印象派和新印象派画家，也接触到了日本浮世绘的作品。他的画风格巨变，在1888年移居法国南部小镇阿尔期间创作了许多著名作品，如 《阿尔的吊桥》和《星月夜》等。然而，在他精神错乱的时候，他经常会患上“癫痫病”（有时也被称为“癫痫症”），但他还是坚持继续作画。他在1889年创作了《星月夜》，并在1890年7月因精神疾病而去世，享年37岁。
```

```text
User:
你是一个优秀的人工智能助手。请你仔细阅读下面的文章，并且给出问题的答案。
你只能使用文章中明确列出的信息，不要编造文章中未列出的信息。如果你不知道答案，就说“我不确定”。 不要试图编造答案。

---
姚明（Yao Ming），男，汉族，无党派人士，1980年9月12日出生于上海市徐汇区，祖籍江苏省苏州市吴江区震泽镇，前中国职业篮球运动员，司职中锋，现任亚洲篮球联合会主席、中国篮球协会主席、中职联公司董事长兼总经理， [1-3]十三届全国青联副主席， [4] 改革先锋奖章获得者。 [5] 第十四届全国人大代表 [108] 。
1998年4月，姚明入选王非执教的国家队，开始篮球生涯。2001夺得CBA常规赛MVP，2002年夺得CBA总冠军以及总决赛MVP，分别3次当选CBA篮板王以及盖帽王，2次当选CBA扣篮王。在2002年NBA选秀中，他以状元秀身份被NBA的休斯敦火箭队选中，2003-09年连续6个赛季（生涯共8次）入选NBA全明星赛阵容，2次入选NBA最佳阵容二阵，3次入选NBA最佳阵容三阵。2009年，姚明收购上海男篮，成为上海久事大鲨鱼俱乐部老板。2011年7月20日，姚明宣布退役。
2013年，姚明当选为第十二届全国政协委员。2015年2月10日，姚明正式成为北京申办冬季奥林匹克运动会形象大使之一。2016年4月4日，姚明正式入选2016年奈史密斯篮球名人纪念堂，成为首位获此殊荣的中国人；10月，姚明成为中国“火星大使”；11月，当选CBA公司副董事长。 [6]
2017年10月20日，姚明已将上海哔哩哔哩俱乐部全部股权转让。 [7] 2018年9月，荣获第十届“中华慈善奖”慈善楷模奖项。 [8] 2019年10月28日，胡润研究院发布《2019胡润80后白手起家富豪榜》，姚明以22亿元排名第48。
---

问题：姚明什么时候生日？

Firefly:
1980年9月12日。
```

</details>


<details><summary><b>数学推理</b></summary>

| 输入                                                                                                | 输出  |
|---------------------------------------------------------------------------------------------------|-----|
|题目：小明在一家超市买了 3 瓶饮料，每瓶饮料的价格是 3 元，他又买了一包面包，面包价格是 10 元，他一共花了多少钱？|1. 首先计算小明购买的饮料的总价。由于他有 3 瓶饮料，每瓶饮料价格为 3 元，所以总共花费的钱数为：3 x 3 = 9 元。<br>2. 然后再加上一包面包的价格，即 10 元，得到小明总共花费的钱数为 9 + 10 = 19 元。<br>答案：小明一共花费了19元|
|题目：小明一共36个鼠标，他要分配给6个小伙伴，每个小伙伴能获得多少个鼠标|1. 用除法求出平均值<br>   36 ÷ 6 = 6<br>2. 小明的每个小伙伴能得到6个鼠标。 <br>答案：每个小伙伴能得到6个鼠标。|
|小明有4袋水果糖，每袋有25个，他一共有多少个水果糖？|1. 找出题目中给出的信息：<br>- 小明有4袋水果糖。<br>- 每袋水果糖的数量为25个。<br>2. 使用乘法计算总数：<br>- 4袋 x 25个/袋 = 100个水果糖。<br>3. 因此，小明一共有100个水果糖|
|小明去市场买了8个橘子，6根香蕉，3个苹果，橘子每个3元，香蕉每个2元，苹果每个5元，她一共花了多少钱？|1. 计算橘子的总价：8 x 3 = 24 元<br>2. 计算香蕉的总价：6 x 2 = 12 元<br>3. 计算苹果的总价：3 x 5 = 15 元<br>4. 将所有商品的价钱相加：24 + 12 + 15 = 42 元<br>答案：小明一共花费了42元|
|小明有38个苹果，分给小红15个，分给小猪8个，他自己还剩多少个苹果？|1. 计算小明分出去的苹果总数：15 + 8 = 23<br>2. 用小明的苹果数减去分出去的苹果总数：38 - 23 = 15<br>3. 小明自己还剩下15个苹果。 <br>答案：小明自己还剩下15个苹果|

</details>



<details><summary><b>多轮对话</b></summary>

```text
User   : 你好，最近睡觉质量不好，晚上总是失眠，或者睡觉惊醒，这是怎么回事
Firefly: 可能是身体或精神上的压力过大引起的。建议您尝试放松身心，如听轻音乐、做瑜伽等活动来帮助入睡。如果问题持续存在，请咨询专业医生的建议。
User   : 最近工作上比较忙，压力有点大，经常熬夜
Firefly: 这听起来很辛苦。您可以考虑调整工作和休息时间，确保每天有足够的睡眠和适当的运动。此外，保持良好的饮食习惯也有助于改善睡眠质量。
User   : 有什么方法缓解吗？
Firefly: 可以试试深呼吸练习、冥想或进行一些轻松的伸展运动。另外，避免在睡前使用电子设备并减少咖啡因摄入也是有帮助的。
User   : 还有别的方法吗？
Firefly: 可以试着建立一个固定的作息时间表，包括起床时间和晚餐时间，以帮助您的身体适应规律的生活方式。同时，也可以通过与朋友聊天、阅读等方式分散注意力，有助于减轻压力和提高睡眠质量。
User   : 有什么药物可以调节
Firefly: 对于长期无法入眠的情况，建议您寻求专业医疗帮助。但是，有一些非处方药可以帮助缓解失眠症状，例如安神补脑液、维生素B群等。
User   : 还有别的药物吗？
Firefly: 当然了，还有一些草药茶可以帮助缓解失眠症状，但需要注意剂量和使用频率。如果您一直感到不适，最好向医生咨询以获取更详细的帮助和建议。
User   : 平时饮食有什么需要注意的吗
Firefly: 建议您尽量少食用刺激性食物，如辛辣食品、油炸食品等。此外，多喝水有助于促进新陈代谢和维持身体健康。最后，不要忘记适当锻炼身体，以提高身体的免疫力，从而更好地应对各种生活挑战。
User   : 还有别的建议吗
Firefly: 是的，还可以尝试一些自然疗法，如按摩、针灸、香薰蜡烛等，这些都可以帮助舒缓紧张的情绪和促进睡眠。
User   : 谢谢
Firefly: 不客气，希望这些建议能对您有所帮助！
```

```text
User   : 我最近在学编程，请你给我推荐几个经典的机器学习算法。
Firefly: 以下是一些经典的机器学习算法：
1. 线性回归（Linear Regression）- 对于连续型变量进行预测。
2. 决策树（Decision Tree）- 将数据集划分为不同的类别或值集合。
3. 支持向量机（Support Vector Machines, SVM）- 在高维空间中寻找一个超平面来分离不同类别的样本。
4. K近邻（K-Nearest Neighbors, KNNs）- 根据已知类别的样本和未知类别的样本之间的距离计算相似度，并找到与未知样本最相似的K个邻居。
5. 随机森林（Random Forest）- 使用多个决策树对输入特征进行分类或回归分析。
6. 神经网络（Neural Networks）- 可以用于图像识别、自然语言处理等任务。
7. 聚类（Clustering）- 对数据集中的对象进行分组，将它们分成若干组。
8. 主成分分析（Principal Component Analysis）- 通过统计方法从原始数据集中提取最重要的特征，从而确定数据的分布情况。
9. 贝叶斯定理（Bayes' Theorem）- 利用已知的概率分布和条件信息来进行推断。
10. 梯度提升法（Gradient Boosting）- 一种基于训练数据和目标函数的方法，通过迭代优化模型参数，提高模型的准确性。
User   : 请详细介绍一下决策树算法
Firefly: 决策树是一种监督式的分类算法，它通过对数据集的观察和分析，构建一棵树状结构，使得每个节点代表一个属性，每个分支代表该属性的取值范围，最终叶子节点表示所求的目标结果。决策树可以用来解决许多实际问题，如分类、回归、异常检测等。决策树算法的核心思想是将数据集按照一定规则分割成若干个子集，然后根据每个子集的标签（即目标结果）建立相应的决策树，最后得到所有决策树的结果，从而得出最终的答案。决策树算法具有简单易用、可解释性强、易于实现的特点，因此在很多领域得到了广泛的应用。
User   : 那k-means呢
Firefly: k-means是一种无监督式的聚类算法，它可以自动地将数据点分组成k个簇。k-means算法的主要思想是通过迭代的方式不断调整k的值，使k个簇内数据点的平均值尽可能接近，同时保证各个簇内的数据点之间差异最小化。k-means算法适用于各种规模的数据集，并且可以通过调整k的大小来适应不同的场景需求。 
```
</details>


<details><summary><b>其他例子</b></summary>

| 输入                                                                                                                                                                                                                                                                                    | 输出                                                                                                                                                                                                                           |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|假设你是一个心理咨询师，你会如何帮助患者走出阴霾，重拾对生活的希望，请给出你的具体步骤和做法| 作为一名心理咨询师，我会采取以下措施来帮助患者走出阴霾：<br>1. 倾听患者的心声并理解其处境。<br>2. 提供支持和安慰，鼓励患者表达自己的感受和需求。<br>3. 鼓励患者寻找解决问题的方法，并提供适当的指导和支持。<br>4. 引导患者逐渐适应新的生活状态，让他们重新建立自信和积极的心态。<br>5. 定期与患者沟通，了解他们的进展和需要。                                             |
|一名画家如何利用社交媒体扩大自身的行业影响力？| 1. 发布高质量的作品，包括插画、素描和油画等。<br>2. 与其他艺术家合作创作艺术品或参加展览会来展示自己的作品。<br>3. 在社交媒体上分享自己的作品，与粉丝互动并建立品牌形象。<br>4. 利用Instagram和其他平台上的广告功能推广自己的作品。<br>5. 参加在线社区活动，与其他艺术家交流想法并提供反馈。 <br>6. 通过赞助活动和慈善机构等方式增加曝光率。<br>7. 建立个人网站或博客，提供专业知识和技能的介绍。 |
|最近身体发福了，我该如何进行科学地减肥，请你给我一些建议，要求回答条理清晰| 健康指导：建议你通过饮食和运动来达到减肥的目的。首先要注意控制总热量摄入量，多吃蔬菜水果、粗粮等富含膳食纤维的食物，少吃高热量的食物如油炸食品、甜食等。其次要坚持每天适量运动，可以选择慢跑、游泳、瑜伽等方式，每周至少3次，每次30分钟以上。另外还要保证充足的睡眠时间，晚上11点前入睡，早上7-8点起床，有利于新陈代谢的正常运作。最后一定要保持良好的心态，不要因为瘦身而过度节食或暴饮暴食，也不要因体重过重而不敢出门，这样会影响到身体健康  |
|请生成一份番茄炒蛋的食谱，包括所需的食材和烹饪步骤，尽可能详细地描述每一步骤。|番茄炒蛋食谱：<br>所需材料:<br>- 2个鸡蛋<br>- 3颗番茄<br>- 适量葱花<br>- 适量盐<br>- 适量油<br>制作步骤:<br>1. 将番茄洗净切成小块备用。<br>2. 打散鸡蛋并加入适量的盐搅拌均匀。<br>3. 在锅中倒入少量油，烧热后放入鸡蛋液煎至半熟状捞出备用。<br>4. 再在锅内加油，加热后放入番茄翻炒至软烂。<br>5. 把煎好的鸡蛋放回锅中，加少许盐调味即可上桌享用|
|我在外卖平台上点了一杯柠檬茶，帮我生成一条好评和一条差评|好评：这杯柠檬茶味道清新怡人，口感细腻顺滑。推荐给喜欢喝柠檬茶的朋友们。<br>差评：虽然柠檬茶的包装很好看，但是里面的茶叶实在太少了，而且口味也不尽如人意。希望商家能够改进一下产品质量和服务水平|
|抽取出下文中的时间、地名和人名：“3月31日下午，人民大会堂，习近平主席接连会见了3位外国领导人——西班牙首相桑切斯、马来西亚总理安瓦尔、新加坡总理李显龙。这些外国领导人为何选择这个时间来到北京？习主席在同他们的会见中重点谈到了什么？密集会见释放了什么样的信息？《时政新闻眼》为你解读”。| 时间：3月31日下午<br>地名：人民大会堂，西班牙，马来西亚，新加坡<br>人名：习近平，桑切斯，安瓦尔，李显龙                                                                                                                                                                    |
|该评论是正向还是负向：早餐很丰富，服务也热情，早上很早退房时，前台值此人员办理手续也非常快| 正向                                                                                                                                                                                                                           |
|该评论是积极还是消极：就没有见过这样的酒店,价格不便宜,设备特别陈旧,房间昏暗,外部内部都特脏,上面写有宽贷竟然还要20元钱,要钱也罢了,IP地址都不能自动获取.| 消极                                                                                                                                                                                                                           |
|请将以下新闻分类为体育、政治或科技：《年薪超4亿欧！曝利雅得新月正式报价梅西 球员首选留欧洲》| 体育。                                                                                                                                                                                                                          |
|生成文本的摘要：据CGTN记者团官方微博，4月7日下午，法国总统马克龙到访中山大学，与学生交流。随后马克龙来到中山大学体育馆，用法语、普通话、粤语和现场观众打招呼并发表演讲。马克龙总统在演讲中说，希望青年人能够共同应对当今世界包括气候变化、生物多样性、科技等方面的挑战。“当今经济增长的挑战尤其是脱碳增长的挑战非常大，对于青年学子来说通过研究、创新应对挑战非常重要。”马克龙提到，中山大学中法核工程与技术学院为此开展了大量的相关工作。马克龙希望促进双方的人文交流。通过学习历史、语言，分享知识和科学去迎接未来。用学术促进相互交流、相互理解、促进人文交流，更好地认识彼此，了解彼此。“欢迎更多的青年学生学习法语，也希望法国年轻人对中国的文化、文明和语言有同样的热情。希望中山大学与法国合作伙伴继续合作下去。”|马克龙到访中山大学呼吁青年共同应对全球挑战|
|把这句话翻译成中文：Knowledge can be acquired from many sources. These include books, teachers and practical experience, and each has its own advantages. The knowledge we gain from books and formal education enables us to learn about things that we have no opportunity to experience in daily life. We can also develop our analytical skills and learn how to view and interpret the world around us in different ways. Furthermore, we can learn from the past by reading books. In this way, we won't repeat the mistakes of others and can build on their achievements.|知识可以从许多来源获得，包括书籍、老师和实践经验。每种来源都有其优点。从书本和正式教育中获得的知识使我们能够学习我们无法在日常生活中体验到的东西。我们可以发展我们的分析技能并学会如何看待和分析周围的世界以不同的方式。此外，通过阅读其他人的作品，我们可以借鉴他们的成就。这样我们就不会重复别人的错误，可以基于他们取得的成果来建立自己的成功之路|
</details>






